<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1353px" preserveAspectRatio="none" style="width:1361px;height:1353px;background:#FFFFFF;" version="1.1" viewBox="0 0 1361 1353" width="1361px" zoomAndPan="magnify"><title>F1 Betting Service - Sequence Flow (with Error Handling)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="410.375" x="471.571" y="28.5352">F1 Betting Service - Sequence Flow (with Error Handling)</text><rect fill="none" height="283.1055" style="stroke:#000000;stroke-width:1.5;" width="1334.5171" x="10" y="571.0137"/><rect fill="none" height="167.8633" style="stroke:#000000;stroke-width:1.5;" width="458.4336" x="440.1274" y="1028.6719"/><rect fill="none" height="107.2422" style="stroke:#000000;stroke-width:1.5;" width="438.4336" x="450.1274" y="1082.293"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1153.1797" width="8" x="34.1826" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="118.9766" y2="1272.1563"/></g><g><title>Controller</title><rect fill="#000000" fill-opacity="0.00000" height="1153.1797" width="8" x="214.9189" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="218.8384" x2="218.8384" y1="118.9766" y2="1272.1563"/></g><g><title>BettingService</title><rect fill="#000000" fill-opacity="0.00000" height="1153.1797" width="8" x="506.6885" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="510.1274" x2="510.1274" y1="118.9766" y2="1272.1563"/></g><g><title>UserRepositoryPort</title><rect fill="#000000" fill-opacity="0.00000" height="1153.1797" width="8" x="670.1465" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="673.2495" x2="673.2495" y1="118.9766" y2="1272.1563"/></g><g><title>BetRepositoryPort</title><rect fill="#000000" fill-opacity="0.00000" height="1153.1797" width="8" x="811.3022" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="815.0435" x2="815.0435" y1="118.9766" y2="1272.1563"/></g><g><title>EventFetcherPort</title><rect fill="#000000" fill-opacity="0.00000" height="1153.1797" width="8" x="944.4565" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="947.561" x2="947.561" y1="118.9766" y2="1272.1563"/></g><g><title>GlobalExceptionHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1153.1797" width="8" x="1167.3643" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1170.8765" x2="1170.8765" y1="118.9766" y2="1272.1563"/></g><g><title>Database</title><rect fill="#000000" fill-opacity="0.00000" height="1153.1797" width="8" x="1296.1846" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1299.8521" x2="1299.8521" y1="118.9766" y2="1272.1563"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="20" y="116.0234">User</text><ellipse cx="38.1826" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.1826,58.9883 L38.1826,85.9883 M25.1826,66.9883 L51.1826,66.9883 M38.1826,85.9883 L25.1826,100.9883 M38.1826,85.9883 L51.1826,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="20" y="1284.6914">User</text><ellipse cx="38.1826" cy="1296.1445" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.1826,1304.1445 L38.1826,1331.1445 M25.1826,1312.1445 L51.1826,1312.1445 M38.1826,1331.1445 L25.1826,1346.1445 M38.1826,1331.1445 L51.1826,1346.1445" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="C"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.1611" x="181.8384" y="116.0234">Controller</text><path d="M198.4189,74.4883 L198.4189,98.4883 M198.4189,86.4883 L215.4189,86.4883" fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="227.4189" cy="86.4883" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="C"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.1611" x="181.8384" y="1284.6914">Controller</text><path d="M198.4189,1291.6445 L198.4189,1315.6445 M198.4189,1303.6445 L215.4189,1303.6445" fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="227.4189" cy="1303.6445" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="S"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.1221" x="460.1274" y="116.0234">BettingService</text><ellipse cx="510.6885" cy="86.4883" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="506.6885,74.4883,512.6885,69.4883,510.6885,74.4883,512.6885,79.4883,506.6885,74.4883" style="stroke:#181818;stroke-width:1;"/></g><g class="participant participant-tail" data-participant="S"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.1221" x="460.1274" y="1284.6914">BettingService</text><ellipse cx="510.6885" cy="1303.6445" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="506.6885,1291.6445,512.6885,1286.6445,510.6885,1291.6445,512.6885,1296.6445,506.6885,1291.6445" style="stroke:#181818;stroke-width:1;"/></g><g class="participant participant-head" data-participant="UR"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.7939" x="606.2495" y="116.0234">UserRepositoryPort</text><ellipse cx="674.1465" cy="86.4883" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="662.1465" x2="686.1465" y1="100.4883" y2="100.4883"/></g><g class="participant participant-tail" data-participant="UR"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.7939" x="606.2495" y="1284.6914">UserRepositoryPort</text><ellipse cx="674.1465" cy="1303.6445" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="662.1465" x2="686.1465" y1="1317.6445" y2="1317.6445"/></g><g class="participant participant-head" data-participant="BR"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.5176" x="752.0435" y="116.0234">BetRepositoryPort</text><ellipse cx="815.3022" cy="86.4883" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="803.3022" x2="827.3022" y1="100.4883" y2="100.4883"/></g><g class="participant participant-tail" data-participant="BR"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.5176" x="752.0435" y="1284.6914">BetRepositoryPort</text><ellipse cx="815.3022" cy="1303.6445" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="803.3022" x2="827.3022" y1="1317.6445" y2="1317.6445"/></g><g class="participant participant-head" data-participant="EF"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.791" x="888.561" y="116.0234">EventFetcherPort</text><ellipse cx="948.4565" cy="86.4883" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="936.4565" x2="960.4565" y1="100.4883" y2="100.4883"/></g><g class="participant participant-tail" data-participant="EF"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.791" x="888.561" y="1284.6914">EventFetcherPort</text><ellipse cx="948.4565" cy="1303.6445" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="936.4565" x2="960.4565" y1="1317.6445" y2="1317.6445"/></g><g class="participant participant-head" data-participant="GEH"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162.9756" x="1086.8765" y="116.0234">GlobalExceptionHandler</text><ellipse cx="1171.3643" cy="86.4883" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="1167.3643,74.4883,1173.3643,69.4883,1171.3643,74.4883,1173.3643,79.4883,1167.3643,74.4883" style="stroke:#181818;stroke-width:1;"/></g><g class="participant participant-tail" data-participant="GEH"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162.9756" x="1086.8765" y="1284.6914">GlobalExceptionHandler</text><ellipse cx="1171.3643" cy="1303.6445" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="1167.3643,1291.6445,1173.3643,1286.6445,1171.3643,1291.6445,1173.3643,1296.6445,1167.3643,1291.6445" style="stroke:#181818;stroke-width:1;"/></g><g class="participant participant-head" data-participant="Database"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.665" x="1265.8521" y="116.0234">Database</text><path d="M1282.1846,66.4883 C1282.1846,56.4883 1300.1846,56.4883 1300.1846,56.4883 C1300.1846,56.4883 1318.1846,56.4883 1318.1846,66.4883 L1318.1846,92.4883 C1318.1846,102.4883 1300.1846,102.4883 1300.1846,102.4883 C1300.1846,102.4883 1282.1846,102.4883 1282.1846,92.4883 L1282.1846,66.4883" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1282.1846,66.4883 C1282.1846,76.4883 1300.1846,76.4883 1300.1846,76.4883 C1300.1846,76.4883 1318.1846,76.4883 1318.1846,66.4883" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="Database"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.665" x="1265.8521" y="1284.6914">Database</text><path d="M1282.1846,1297.6445 C1282.1846,1287.6445 1300.1846,1287.6445 1300.1846,1287.6445 C1300.1846,1287.6445 1318.1846,1287.6445 1318.1846,1297.6445 L1318.1846,1323.6445 C1318.1846,1333.6445 1300.1846,1333.6445 1300.1846,1333.6445 C1300.1846,1333.6445 1282.1846,1333.6445 1282.1846,1323.6445 L1282.1846,1297.6445" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1282.1846,1297.6445 C1282.1846,1307.6445 1300.1846,1307.6445 1300.1846,1307.6445 C1300.1846,1307.6445 1318.1846,1307.6445 1318.1846,1297.6445" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1354.5171" x="0" y="149.6318"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1354.5171" y1="149.6318" y2="149.6318"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1354.5171" y1="152.6318" y2="152.6318"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="102.6704" x="625.9233" y="138.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="84.3857" x="631.9233" y="155.5449">Fetch Events</text><g class="message" data-participant-1="User" data-participant-2="C"><polygon fill="#181818" points="206.9189,189.5977,216.9189,193.5977,206.9189,197.5977,210.9189,193.5977" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.1826" x2="212.9189" y1="193.5977" y2="193.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.0303" x="45.1826" y="188.8555">GET /api/bets/events</text></g><g class="message" data-participant-1="C" data-participant-2="S"><polygon fill="#181818" points="498.6885,218.9082,508.6885,222.9082,498.6885,226.9082,502.6885,222.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="218.9189" x2="504.6885" y1="222.9082" y2="222.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.0342" x="225.9189" y="218.166">listEvents()</text></g><g class="message" data-participant-1="S" data-participant-2="EF"><polygon fill="#181818" points="936.4565,248.2188,946.4565,252.2188,936.4565,256.2188,940.4565,252.2188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="510.6885" x2="942.4565" y1="252.2188" y2="252.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.6406" x="517.6885" y="247.4766">fetchEvents()</text></g><g class="message" data-participant-1="EF" data-participant-2="EF"><line style="stroke:#181818;stroke-width:1;" x1="948.4565" x2="990.4565" y1="281.5293" y2="281.5293"/><line style="stroke:#181818;stroke-width:1;" x1="990.4565" x2="990.4565" y1="281.5293" y2="294.5293"/><line style="stroke:#181818;stroke-width:1;" x1="949.4565" x2="990.4565" y1="294.5293" y2="294.5293"/><polygon fill="#181818" points="959.4565,290.5293,949.4565,294.5293,959.4565,298.5293,955.4565,294.5293" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.7407" x="955.4565" y="276.7871">call OpenF1 /sessions</text></g><g class="message" data-participant-1="EF" data-participant-2="EF"><line style="stroke:#181818;stroke-width:1;" x1="948.4565" x2="990.4565" y1="323.8398" y2="323.8398"/><line style="stroke:#181818;stroke-width:1;" x1="990.4565" x2="990.4565" y1="323.8398" y2="336.8398"/><line style="stroke:#181818;stroke-width:1;" x1="949.4565" x2="990.4565" y1="336.8398" y2="336.8398"/><polygon fill="#181818" points="959.4565,332.8398,949.4565,336.8398,959.4565,340.8398,955.4565,336.8398" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.9077" x="955.4565" y="319.0977">call OpenF1 /drivers?session_key</text></g><g class="message" data-participant-1="EF" data-participant-2="S"><polygon fill="#181818" points="521.6885,362.1504,511.6885,366.1504,521.6885,370.1504,517.6885,366.1504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="515.6885" x2="947.4565" y1="366.1504" y2="366.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.335" x="527.6885" y="361.4082">List&lt;EventWithDrivers&gt;</text></g><g class="message" data-participant-1="S" data-participant-2="C"><polygon fill="#181818" points="229.9189,391.4609,219.9189,395.4609,229.9189,399.4609,225.9189,395.4609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="223.9189" x2="509.6885" y1="395.4609" y2="395.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.335" x="235.9189" y="390.7188">List&lt;EventWithDrivers&gt;</text></g><g class="message" data-participant-1="C" data-participant-2="User"><polygon fill="#181818" points="49.1826,420.7715,39.1826,424.7715,49.1826,428.7715,45.1826,424.7715" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.1826" x2="217.9189" y1="424.7715" y2="424.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.3599" x="55.1826" y="420.0293">200 OK</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1354.5171" x="0" y="453.4268"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1354.5171" y1="453.4268" y2="453.4268"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1354.5171" y1="456.4268" y2="456.4268"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="78.0225" x="638.2473" y="442.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="59.7378" x="644.2473" y="459.3398">Place Bet</text><g class="message" data-participant-1="User" data-participant-2="C"><polygon fill="#181818" points="206.9189,493.3926,216.9189,497.3926,206.9189,501.3926,210.9189,497.3926" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.1826" x2="212.9189" y1="497.3926" y2="497.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.1255" x="45.1826" y="492.6504">POST /api/bets/place</text></g><g class="message" data-participant-1="C" data-participant-2="S"><polygon fill="#181818" points="498.6885,522.7031,508.6885,526.7031,498.6885,530.7031,502.6885,526.7031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="218.9189" x2="504.6885" y1="526.7031" y2="526.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267.7695" x="225.9189" y="521.9609">placeBet(userId, eventId, driverId, amount)</text></g><g class="message" data-participant-1="S" data-participant-2="UR"><polygon fill="#181818" points="662.1465,552.0137,672.1465,556.0137,662.1465,560.0137,666.1465,556.0137" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="510.6885" x2="668.1465" y1="556.0137" y2="556.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.6235" x="517.6885" y="551.2715">findById(userId)</text></g><path d="M10,571.0137 L72.1387,571.0137 L72.1387,578.3242 L62.1387,588.3242 L10,588.3242 L10,571.0137" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="283.1055" style="stroke:#000000;stroke-width:1.5;" width="1334.5171" x="10" y="571.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="25" y="584.582">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="179.5181" x="87.1387" y="583.6484">[User not found or low balance]</text><g class="message" data-participant-1="S" data-participant-2="GEH"><polygon fill="#181818" points="1159.3643,605.6348,1169.3643,609.6348,1159.3643,613.6348,1163.3643,609.6348" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="510.6885" x2="1165.3643" y1="609.6348" y2="609.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.4678" x="517.6885" y="604.8926">throw BettingServiceException</text></g><g class="message" data-participant-1="GEH" data-participant-2="C"><polygon fill="#181818" points="229.9189,634.9453,219.9189,638.9453,229.9189,642.9453,225.9189,638.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="223.9189" x2="1170.3643" y1="638.9453" y2="638.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.582" x="235.9189" y="634.2031">400 Bad Request + Error JSON</text></g><g class="message" data-participant-1="C" data-participant-2="User"><polygon fill="#181818" points="49.1826,664.2559,39.1826,668.2559,49.1826,672.2559,45.1826,668.2559" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.1826" x2="217.9189" y1="668.2559" y2="668.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.2974" x="55.1826" y="663.5137">Error Response</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="1344.5171" y1="677.2559" y2="677.2559"/><g class="message" data-participant-1="UR" data-participant-2="S"><polygon fill="#181818" points="521.6885,695.5664,511.6885,699.5664,521.6885,703.5664,517.6885,699.5664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="515.6885" x2="673.1465" y1="699.5664" y2="699.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.1963" x="527.6885" y="694.8242">User</text></g><g class="message" data-participant-1="S" data-participant-2="BR"><polygon fill="#181818" points="803.3022,724.877,813.3022,728.877,803.3022,732.877,807.3022,728.877" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="510.6885" x2="809.3022" y1="728.877" y2="728.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.8149" x="517.6885" y="724.1348">save(Bet)</text></g><g class="message" data-participant-1="BR" data-participant-2="Database"><polygon fill="#181818" points="1288.1846,754.1875,1298.1846,758.1875,1288.1846,762.1875,1292.1846,758.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="815.3022" x2="1294.1846" y1="758.1875" y2="758.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.019" x="822.3022" y="753.4453">INSERT INTO bet</text></g><g class="message" data-participant-1="BR" data-participant-2="S"><polygon fill="#181818" points="521.6885,783.498,511.6885,787.498,521.6885,791.498,517.6885,787.498" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="515.6885" x2="814.3022" y1="787.498" y2="787.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5825" x="527.6885" y="782.7559">Bet</text></g><g class="message" data-participant-1="S" data-participant-2="C"><polygon fill="#181818" points="229.9189,812.8086,219.9189,816.8086,229.9189,820.8086,225.9189,816.8086" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="223.9189" x2="509.6885" y1="816.8086" y2="816.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5825" x="235.9189" y="812.0664">Bet</text></g><g class="message" data-participant-1="C" data-participant-2="User"><polygon fill="#181818" points="49.1826,842.1191,39.1826,846.1191,49.1826,850.1191,45.1826,846.1191" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.1826" x2="217.9189" y1="846.1191" y2="846.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.3599" x="55.1826" y="841.377">200 OK</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1354.5171" x="0" y="881.7744"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1354.5171" y1="881.7744" y2="881.7744"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1354.5171" y1="884.7744" y2="884.7744"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="117.0669" x="618.7251" y="871.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98.7822" x="624.7251" y="887.6875">Simulate Event</text><g class="message" data-participant-1="User" data-participant-2="C"><polygon fill="#181818" points="206.9189,921.7402,216.9189,925.7402,206.9189,929.7402,210.9189,925.7402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.1826" x2="212.9189" y1="925.7402" y2="925.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.7363" x="45.1826" y="920.998">POST /api/bets/simulate</text></g><g class="message" data-participant-1="C" data-participant-2="S"><polygon fill="#181818" points="498.6885,951.0508,508.6885,955.0508,498.6885,959.0508,502.6885,955.0508" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="218.9189" x2="504.6885" y1="955.0508" y2="955.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.2056" x="225.9189" y="950.3086">simulateEvent(eventId, winningDriverId)</text></g><g class="message" data-participant-1="S" data-participant-2="BR"><polygon fill="#181818" points="803.3022,980.3613,813.3022,984.3613,803.3022,988.3613,807.3022,984.3613" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="510.6885" x2="809.3022" y1="984.3613" y2="984.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.458" x="517.6885" y="979.6191">findByEventId(eventId)</text></g><g class="message" data-participant-1="BR" data-participant-2="S"><polygon fill="#181818" points="521.6885,1009.6719,511.6885,1013.6719,521.6885,1017.6719,517.6885,1013.6719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="515.6885" x2="814.3022" y1="1013.6719" y2="1013.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.4292" x="527.6885" y="1008.9297">List&lt;Bet&gt;</text></g><path d="M440.1274,1028.6719 L514.5742,1028.6719 L514.5742,1035.9824 L504.5742,1045.9824 L440.1274,1045.9824 L440.1274,1028.6719" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="167.8633" style="stroke:#000000;stroke-width:1.5;" width="458.4336" x="440.1274" y="1028.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="455.1274" y="1042.2402">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76.1729" x="529.5742" y="1041.3066">[for each bet]</text><g class="message" data-participant-1="S" data-participant-2="UR"><polygon fill="#181818" points="662.1465,1063.293,672.1465,1067.293,662.1465,1071.293,666.1465,1067.293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="510.6885" x2="668.1465" y1="1067.293" y2="1067.293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.0239" x="517.6885" y="1062.5508">findById(bet.userId)</text></g><path d="M450.1274,1082.293 L512.2661,1082.293 L512.2661,1089.6035 L502.2661,1099.6035 L450.1274,1099.6035 L450.1274,1082.293" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="107.2422" style="stroke:#000000;stroke-width:1.5;" width="438.4336" x="450.1274" y="1082.293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="465.1274" y="1095.8613">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="190.3677" x="527.2661" y="1094.9277">[bet.driverId == winningDriverId]</text><g class="message" data-participant-1="S" data-participant-2="UR"><polygon fill="#181818" points="662.1465,1116.9141,672.1465,1120.9141,662.1465,1124.9141,666.1465,1120.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="510.6885" x2="668.1465" y1="1120.9141" y2="1120.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.458" x="517.6885" y="1116.1719">save(User + winnings)</text></g><g class="message" data-participant-1="S" data-participant-2="BR"><polygon fill="#181818" points="803.3022,1146.2246,813.3022,1150.2246,803.3022,1154.2246,807.3022,1150.2246" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="510.6885" x2="809.3022" y1="1150.2246" y2="1150.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.2432" x="517.6885" y="1145.4824">save(bet.status = WON)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="450.1274" x2="888.561" y1="1159.2246" y2="1159.2246"/><g class="message" data-participant-1="S" data-participant-2="BR"><polygon fill="#181818" points="803.3022,1177.5352,813.3022,1181.5352,803.3022,1185.5352,807.3022,1181.5352" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="510.6885" x2="809.3022" y1="1181.5352" y2="1181.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.6714" x="517.6885" y="1176.793">save(bet.status = LOST)</text></g><g class="message" data-participant-1="S" data-participant-2="C"><polygon fill="#181818" points="229.9189,1220.8457,219.9189,1224.8457,229.9189,1228.8457,225.9189,1224.8457" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="223.9189" x2="509.6885" y1="1224.8457" y2="1224.8457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26.6538" x="235.9189" y="1220.1035">void</text></g><g class="message" data-participant-1="C" data-participant-2="User"><polygon fill="#181818" points="49.1826,1250.1563,39.1826,1254.1563,49.1826,1258.1563,45.1826,1254.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="43.1826" x2="217.9189" y1="1254.1563" y2="1254.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.3599" x="55.1826" y="1249.4141">200 OK</text></g><!--SRC=[XLDTRnen47pthzX7K9gGLdsA2fKEZeGs0dG7ocDbk4snwjXNsq3vzrtxxBkG3mK9ONPdrxipOoUSH9X-XWoT4-etb6WEOejmIQU_UrHqd4fzXDvHk1tancW3TrnLai1znlZMKM1jqR2DtgkAcnECjN96Iua6k8KnspR_qnNf1igL39KJxXGQ55XhAwZTQQcDy-braV9K-ZgTjUdyG8SfkkqEJShcq_RYMwatNER_jbWxeLKOlndkDhzZ5NTymot291uO6muXT6iQMnWE6VCZmkK8nd13PIiOy5eCDkZi00E8ZNssfAmKrZM5lJuhVJIVKlZHTspZ54g9BPSI5ZKgac5WqLgQqRuBg8mueB7V8_3N7pm5RBpydYx_5cvv8C4c3NZanuYplmCO1q1OyWQ-N5_3ucVWOIavQKNylo9XkIYVir1xO4T2-4jblJsLpAfF45ZoXsO1V-9FP1aNELeNdYEXgkmqgs9Ldt7fcg6KTl3e7GRaDsz8KfIJEndG9pGWBQc3snbAdbkjLJw0FIwHyPKMpNW5XVUwTN0H7VwZNCm3-8oM9bUWhKaWP2XjSpsDdkWFBw4TAVCxMNx07WtK3t4AKI9PZTApUPaNA_fPBO28R46nOHP3dO0fyfPYgAgWMYcUzf8xR0pyaNGseZlrKYIKzrhfZa8fedKI5OpAPProUODC5NtsR9DWF1f-nAJMDObf03cziKstuKiNKEegES53l1jyB5c85divKy2Tjmi2XFKl4jhspt6TKBwzTTpjwTN3msBU05kfFwgu9sPZ2KdXlvrm1osgDz_PVm00]--></g></svg>